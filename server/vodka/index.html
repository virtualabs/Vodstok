<html>
<head>
<title>File download with JS</title>
<link type="text/css" href="css/vodka.css" rel="stylesheet" />   
<link type="text/css" href="css/skin/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" />   
<link type="text/css" href="css/jquery.share.css" rel="stylesheet" />   
</head>
<body>
    <div id="page">
        <div id="logo"></div>
        <div id="block">
            <div id="action"></div>
            <div id="progress">
                <div id="progressbar">
                    <div></div>
                </div>
                <div id="download">
                    <div id="dlbtn"></div>
                </div>
                <div id="error"></div>
                <div id="success"></div>
            </div>
        </div>
    </div>
    <div id="share"></div>
    
    <!-- JS scripts -->    
    <script src="js/jquery.min.js" type="text/javascript" language="javascript"></script>
    <script src="js/jquery.share.js" type="text/javascript" language="javascript"></script>
    <script src="js/jquery-ui.min.js" language="javascript"></script>
    <script src="js/filesaver.js" language="javascript"></script>
    <script src="js/query.js" language="javascript"></script>
    <script src="js/utils.js" language="javascript"></script>
    <script src="js/events.js" language="javascript"></script>
    <script src="js/uri.js" language="javascript"></script>
    <script src="js/spool.js" language="javascript"></script>
    <script src="js/client.js" language="javascript"></script>
    <script src="js/crypto/aes.js" language="javascript"></script>
    <script src="js/crypto/x64-core.js" language="javascript"></script>
    <script src="js/crypto/sha512.js" language="javascript"></script>
    <script src="js/crypto/format-hex.js" language="javascript"></script>
    <script src="vodka.js" language="javascript"></script>
    <script>
        $(document).ready(function(){
            /* Display download components */
            $('#progressbar').find('div').css('width','0');
            $('#progressbar').hide();
            $('#dlbtn').css('height', '40px').hide();

            $('#share').share({
                networks: ['facebook','pinterest','googleplus','twitter','email','digg'],
                theme: 'square',
                orientation: 'vertical',
                affix: 'right center'
            }).show();

            //$('#success').hide();
            //$('#error').hide();

            //new VodkaSimpleDl('http://virtualabs.fr/vodstok/#aa99a1b0fcce7f5934c1d6b52164f8ad-9433d26cdfd1606bb09efccb45a8139c');
            //new VodkaSimpleDl('http://vodstok.tedomum.net/#3a3048a775a95e6c7cb36d024c89d93b-773e8964b70c4f0206ab3ef221453224');
            var client = new Vodka();
            client.queryEndpoints('http://virtualabs.fr/vodstok/').done(function(res){
                console.log(client.endpoints);
            }).fail(function(){ console.log('failed'); });
            //client.download('http://vodstok.tedomum.net/#3a3048a775a95e6c7cb36d024c89d93b-773e8964b70c4f0206ab3ef221453224');
            

            /* Download mode ? */
            if (document.location.hash) {
                /* Display download components */
            } else {
            /* Normal mode */
            }
        });
    </script>
</body>
</html>
